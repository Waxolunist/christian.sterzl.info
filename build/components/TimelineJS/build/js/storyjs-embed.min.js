function getEmbedScriptPath(e){for(var t=document.getElementsByTagName("script"),i="",n="",a=0;a<t.length;a++)t[a].src.match(e)&&(i=t[a].src);return""!=i&&(n="/"),i.split("?")[0].split("/").slice(0,-1).join("/")+n}function createStoryJS(e,t){function i(){LoadLib.js(S.js,n)}function n(){j.js=!0,"en"!=S.lang?LazyLoad.js(b.locale,a):j.language=!0,c()}function a(){j.language=!0,c()}function o(){j.css=!0,c()}function s(){j.font.css=!0,c()}function l(){j.font.js=!0,c()}function c(){j.checks>40||(j.checks++,j.js&&j.css&&j.font.css&&j.font.js&&j.language?j.finished||(j.finished=!0,g()):j.timeout=setTimeout("onloaded_check_again();",250))}function r(){var e="storyjs-embed";h=document.createElement("div"),u=document.getElementById(""!=S.embed_id?S.embed_id:"timeline-embed"),u.appendChild(h),h.setAttribute("id",S.id),S.width.toString().match("%")?u.style.width=S.width.split("%")[0]+"%":(S.width=S.width-2,u.style.width=S.width+"px"),S.height.toString().match("%")?(u.style.height=S.height,e+=" full-embed",u.style.height=S.height.split("%")[0]+"%"):S.width.toString().match("%")?(e+=" full-embed",S.height=S.height-16,u.style.height=S.height+"px"):(e+=" sized-embed",S.height=S.height-16,u.style.height=S.height+"px"),u.setAttribute("class",e),u.setAttribute("className",e),h.style.position="relative"}function g(){VMM.debug=S.debug,f=new VMM.Timeline(S.id),f.init(S),m&&VMM.bindEvent(global,onHeadline,"HEADLINE")}var f,h,u,d,m=!1,p="2.24",y="1.7.1",j={timeout:"",checks:0,finished:!1,js:!1,css:!1,jquery:!1,has_jquery:!1,language:!1,font:{css:!1,js:!1}},b={base:embed_path,css:embed_path+"css/",js:embed_path+"js/",locale:embed_path+"js/locale/",jquery:"//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",font:{google:!1,css:embed_path+"css/themes/font/",js:"//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"}},S={version:p,debug:!1,type:"timeline",id:"storyjs",embed_id:"timeline-embed",embed:!0,width:"100%",height:"100%",source:"https://docs.google.com/spreadsheet/pub?key=0Agl_Dv6iEbDadFYzRjJPUGktY0NkWXFUWkVIZDNGRHc&output=html",lang:"en",font:"default",css:b.css+"timeline.css?"+p,js:"",api_keys:{google:"",flickr:"",twitter:""},gmap_key:""},_=[{name:"Merriweather-NewsCycle",google:["News+Cycle:400,700:latin","Merriweather:400,700,900:latin"]},{name:"NewsCycle-Merriweather",google:["News+Cycle:400,700:latin","Merriweather:300,400,700:latin"]},{name:"PoiretOne-Molengo",google:["Poiret+One::latin","Molengo::latin"]},{name:"Arvo-PTSans",google:["Arvo:400,700,400italic:latin","PT+Sans:400,700,400italic:latin"]},{name:"PTSerif-PTSans",google:["PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"PT",google:["PT+Sans+Narrow:400,700:latin","PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"DroidSerif-DroidSans",google:["Droid+Sans:400,700:latin","Droid+Serif:400,700,400italic:latin"]},{name:"Lekton-Molengo",google:["Lekton:400,700,400italic:latin","Molengo::latin"]},{name:"NixieOne-Ledger",google:["Nixie+One::latin","Ledger::latin"]},{name:"AbrilFatface-Average",google:["Average::latin","Abril+Fatface::latin"]},{name:"PlayfairDisplay-Muli",google:["Playfair+Display:400,400italic:latin","Muli:300,400,300italic,400italic:latin"]},{name:"Rancho-Gudea",google:["Rancho::latin","Gudea:400,700,400italic:latin"]},{name:"Bevan-PotanoSans",google:["Bevan::latin","Pontano+Sans::latin"]},{name:"BreeSerif-OpenSans",google:["Bree+Serif::latin","Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800:latin"]},{name:"SansitaOne-Kameron",google:["Sansita+One::latin","Kameron:400,700:latin"]},{name:"Lora-Istok",google:["Lora:400,700,400italic,700italic:latin","Istok+Web:400,700,400italic,700italic:latin"]},{name:"Pacifico-Arimo",google:["Pacifico::latin","Arimo:400,700,400italic,700italic:latin"]}];if("object"==typeof e)for(d in e)Object.prototype.hasOwnProperty.call(e,d)&&(S[d]=e[d]);if("undefined"!=typeof t&&(S.source=t),"object"==typeof url_config&&(m=!0,S.source.match("docs.google.com")||S.source.match("json")||S.source.match("storify")||(S.source="https://docs.google.com/spreadsheet/pub?key="+S.source+"&output=html")),S.js.match("locale")&&(S.lang=S.js.split("locale/")[1].replace(".js",""),S.js=b.js+"timeline-min.js?"+p),S.js.match("/")||(S.css=b.css+S.type+".css?"+p,S.js=b.js+S.type,S.js+=S.debug?".js?"+p:"-min.js?"+p,S.id="storyjs-"+S.type),b.locale=S.lang.match("/")?S.lang:b.locale+S.lang+".js?"+p,r(),LoadLib.css(S.css,o),"default"==S.font)j.font.js=!0,j.font.css=!0;else{var k;S.font.match("/")?(k=S.font.split(".css")[0].split("/"),b.font.name=k[k.length-1],b.font.css=S.font):(b.font.name=S.font,b.font.css=b.font.css+S.font+".css?"+p),LoadLib.css(b.font.css,s);for(var v=0;v<_.length;v++)b.font.name==_[v].name&&(b.font.google=!0,WebFontConfig={google:{families:_[v].google}});b.font.google?LoadLib.js(b.font.js,l):j.font.js=!0}try{if(j.has_jquery=jQuery,j.has_jquery=!0,j.has_jquery){var w=jQuery.fn.jquery.split("."),L=y.split(".");for(j.jquery=!0,v=0;2>v;v++)parseFloat(w[v])<parseFloat(L[v])&&(j.jquery=!1)}}catch(P){j.jquery=!1}j.jquery?i():LoadLib.js(b.jquery,i),this.onloaded_check_again=function(){c()}}LazyLoad=function(e){function t(t,i){var n,a=e.createElement(t);for(n in i)i.hasOwnProperty(n)&&a.setAttribute(n,i[n]);return a}function i(e){var t,i,n=r[e];n&&(t=n.callback,i=n.urls,i.shift(),g=0,i.length||(t&&t.call(n.context,n.obj),r[e]=null,f[e].length&&a(e)))}function n(){var t=navigator.userAgent;l={async:e.createElement("script").async===!0},(l.webkit=/AppleWebKit\//.test(t))||(l.ie=/MSIE/.test(t))||(l.opera=/Opera/.test(t))||(l.gecko=/Gecko\//.test(t))||(l.unknown=!0)}function a(a,g,h,u,d){var m,p,y,j,b,S,_=function(){i(a)},k="css"===a,v=[];if(l||n(),g)if(g="string"==typeof g?[g]:g.concat(),k||l.async||l.gecko||l.opera)f[a].push({urls:g,callback:h,obj:u,context:d});else for(m=0,p=g.length;p>m;++m)f[a].push({urls:[g[m]],callback:m===p-1?h:null,obj:u,context:d});if(!r[a]&&(j=r[a]=f[a].shift())){for(c||(c=e.head||e.getElementsByTagName("head")[0]),b=j.urls,m=0,p=b.length;p>m;++m)S=b[m],k?y=l.gecko?t("style"):t("link",{href:S,rel:"stylesheet"}):(y=t("script",{src:S}),y.async=!1),y.className="lazyload",y.setAttribute("charset","utf-8"),l.ie&&!k?y.onreadystatechange=function(){/loaded|complete/.test(y.readyState)&&(y.onreadystatechange=null,_())}:k&&(l.gecko||l.webkit)?l.webkit?(j.urls[m]=y.href,s()):(y.innerHTML='@import "'+S+'";',o(y)):y.onload=y.onerror=_,v.push(y);for(m=0,p=v.length;p>m;++m)c.appendChild(v[m])}}function o(e){var t;try{t=!!e.sheet.cssRules}catch(n){return g+=1,void(200>g?setTimeout(function(){o(e)},50):t&&i("css"))}i("css")}function s(){var e,t=r.css;if(t){for(e=h.length;--e>=0;)if(h[e].href===t.urls[0]){i("css");break}g+=1,t&&(200>g?setTimeout(s,50):i("css"))}}var l,c,r={},g=0,f={css:[],js:[]},h=e.styleSheets;return{css:function(e,t,i,n){a("css",e,t,i,n)},js:function(e,t,i,n){a("js",e,t,i,n)}}}(this.document),LoadLib=function(){function e(e){var i=0,n=!1;for(i=0;i<t.length;i++)t[i]==e&&(n=!0);return n?!0:(t.push(e),!1)}var t=[];return{css:function(t,i,n,a){e(t)||LazyLoad.css(t,i,n,a)},js:function(t,i,n,a){e(t)||LazyLoad.js(t,i,n,a)}}}(this.document);var WebFontConfig;if("undefined"==typeof embed_path)var _tmp_script_path=getEmbedScriptPath("storyjs-embed.js"),embed_path=_tmp_script_path.substr(0,_tmp_script_path.lastIndexOf("js/"));!function(){"object"==typeof url_config?createStoryJS(url_config):"object"==typeof timeline_config?createStoryJS(timeline_config):"object"==typeof storyjs_config?createStoryJS(storyjs_config):"object"==typeof config&&createStoryJS(config)}();