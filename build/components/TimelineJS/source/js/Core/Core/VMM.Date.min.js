if("undefined"!=typeof VMM&&"undefined"==typeof VMM.Date){VMM.Date={init:function(){return this},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>mmm d',' yyyy'</small>'"},month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."],hour:[1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11,12],hour_suffix:["am"],bc_format:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"dddd', 'h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"dddd',' mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>'dddd',' mmm d',' yyyy'</small>'"},setLanguage:function(t){trace("SET DATE LANGUAGE"),VMM.Date.dateformats=t.dateformats,VMM.Date.month=t.date.month,VMM.Date.month_abbr=t.date.month_abbr,VMM.Date.day=t.date.day,VMM.Date.day_abbr=t.date.day_abbr,dateFormat.i18n.dayNames=t.date.day_abbr.concat(t.date.day),dateFormat.i18n.monthNames=t.date.month_abbr.concat(t.date.month)},parse:function(t,e){"use strict";var a,s,o,n,m={year:!1,month:!1,day:!1,hour:!1,minute:!1,second:!1,millisecond:!1};if("date"==type.of(t))trace("DEBUG THIS, ITs A DATE"),a=t;else if(a=new Date(0,0,1,0,0,0,0),t.match(/,/gi)){s=t.split(",");for(var r=0;r<s.length;r++)s[r]=parseInt(s[r],10);s[0]&&(a.setFullYear(s[0]),m.year=!0),s[1]&&(a.setMonth(s[1]-1),m.month=!0),s[2]&&(a.setDate(s[2]),m.day=!0),s[3]&&(a.setHours(s[3]),m.hour=!0),s[4]&&(a.setMinutes(s[4]),m.minute=!0),s[5]&&(a.setSeconds(s[5]),s[5]>=1&&(m.second=!0)),s[6]&&(a.setMilliseconds(s[6]),s[6]>=1&&(m.millisecond=!0))}else if(t.match("/"))t.match(" ")?(n=t.split(" "),t.match(":")&&(o=n[1].split(":"),o[0]>=0&&(a.setHours(o[0]),m.hour=!0),o[1]>=0&&(a.setMinutes(o[1]),m.minute=!0),o[2]>=0&&(a.setSeconds(o[2]),m.second=!0),o[3]>=0&&(a.setMilliseconds(o[3]),m.millisecond=!0)),s=n[0].split("/")):s=t.split("/"),s[2]&&(a.setFullYear(s[2]),m.year=!0),s[0]>=0&&(a.setMonth(s[0]-1),m.month=!0),s[1]>=0&&(s[1].length>2?(a.setFullYear(s[1]),m.year=!0):(a.setDate(s[1]),m.day=!0));else if(t.match("now")){var d=new Date;a.setFullYear(d.getFullYear()),m.year=!0,a.setMonth(d.getMonth()),m.month=!0,a.setDate(d.getDate()),m.day=!0,t.match("hours")&&(a.setHours(d.getHours()),m.hour=!0),t.match("minutes")&&(a.setHours(d.getHours()),a.setMinutes(d.getMinutes()),m.hour=!0,m.minute=!0),t.match("seconds")&&(a.setHours(d.getHours()),a.setMinutes(d.getMinutes()),a.setSeconds(d.getSeconds()),m.hour=!0,m.minute=!0,m.second=!0),t.match("milliseconds")&&(a.setHours(d.getHours()),a.setMinutes(d.getMinutes()),a.setSeconds(d.getSeconds()),a.setMilliseconds(d.getMilliseconds()),m.hour=!0,m.minute=!0,m.second=!0,m.millisecond=!0)}else t.length<=8?(m.year=!0,a.setFullYear(parseInt(t,10)),a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):t.match("T")?navigator.userAgent.match(/MSIE\s(?!9.0)/)?(n=t.split("T"),t.match(":")&&(o=n[1].split(":"),o[0]>=1&&(a.setHours(o[0]),m.hour=!0),o[1]>=1&&(a.setMinutes(o[1]),m.minute=!0),o[2]>=1&&(a.setSeconds(o[2]),o[2]>=1&&(m.second=!0)),o[3]>=1&&(a.setMilliseconds(o[3]),o[3]>=1&&(m.millisecond=!0))),s=n[0].split("-"),s[0]&&(a.setFullYear(s[0]),m.year=!0),s[1]>=0&&(a.setMonth(s[1]-1),m.month=!0),s[2]>=0&&(a.setDate(s[2]),m.day=!0)):(a=new Date(Date.parse(t)),m.year=!0,m.month=!0,m.day=!0,m.hour=!0,m.minute=!0,a.getSeconds()>=1&&(m.second=!0),a.getMilliseconds()>=1&&(m.millisecond=!0)):(a=new Date(parseInt(t.slice(0,4),10),parseInt(t.slice(4,6),10)-1,parseInt(t.slice(6,8),10),parseInt(t.slice(8,10),10),parseInt(t.slice(10,12),10)),m.year=!0,m.month=!0,m.day=!0,m.hour=!0,m.minute=!0,a.getSeconds()>=1&&(m.second=!0),a.getMilliseconds()>=1&&(m.millisecond=!0));return null!=e&&""!=e?{date:a,precision:m}:a},prettyDate:function(t,e,a,s){var o,n,m,r,d,l,i,y=!1;if(null!=s&&""!=s&&"undefined"!=typeof s&&(y=!0,trace("D2 "+s)),"date"==type.of(t)){m="object"==type.of(a)?a.millisecond||a.second&&t.getSeconds()>=1?e?VMM.Date.dateformats.time_short:VMM.Date.dateformats.time_short:a.minute?e?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.time_no_seconds_small_date:a.hour?e?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.time_no_seconds_small_date:a.day?e?VMM.Date.dateformats.full_short:VMM.Date.dateformats.full:a.month?e?VMM.Date.dateformats.month_short:VMM.Date.dateformats.month:a.year?VMM.Date.dateformats.year:VMM.Date.dateformats.year:0===t.getMonth()&&1==t.getDate()&&0===t.getHours()&&0===t.getMinutes()?VMM.Date.dateformats.year:t.getDate()<=1&&0===t.getHours()&&0===t.getMinutes()?e?VMM.Date.dateformats.month_short:VMM.Date.dateformats.month:0===t.getHours()&&0===t.getMinutes()?e?VMM.Date.dateformats.full_short:VMM.Date.dateformats.full:0===t.getMinutes()?e?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.time_no_seconds_small_date:e?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.full_long,o=dateFormat(t,m,!1),r=o.split(" ");for(var M=0;M<r.length;M++)parseInt(r[M],10)<0&&(trace("YEAR IS BC"),d=r[M],l=Math.abs(parseInt(r[M],10)),i=l.toString()+" B.C.",o=o.replace(d,i));if(y){n=dateFormat(s,m,!1),r=n.split(" ");for(var u=0;u<r.length;u++)parseInt(r[u],10)<0&&(trace("YEAR IS BC"),d=r[u],l=Math.abs(parseInt(r[u],10)),i=l.toString()+" B.C.",n=n.replace(d,i))}}else trace("NOT A VALID DATE?"),trace(t);return y?o+" &mdash; "+n:o}}.init();var dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[WLloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,s=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(o,n,m){var r=dateFormat;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(o)||/\d/.test(o)||(n=o,o=void 0),isNaN(o)&&trace("invalid date "+o),n=String(r.masks[n]||n||r.masks["default"]),"UTC:"==n.slice(0,4)&&(n=n.slice(4),m=!0);var d=m?"getUTC":"get",l=o[d+"Date"](),i=o[d+"Day"](),y=o[d+"Month"](),M=o[d+"FullYear"](),u=o[d+"Hours"](),h=o[d+"Minutes"](),c=o[d+"Seconds"](),f=o[d+"Milliseconds"](),g=o.getWeek(),_=m?0:o.getTimezoneOffset(),D={d:l,dd:s(l),ddd:r.i18n.dayNames[i],dddd:r.i18n.dayNames[i+7],m:y+1,mm:s(y+1),mmm:r.i18n.monthNames[y],mmmm:r.i18n.monthNames[y+12],yy:String(M).slice(2),yyyy:M,h:u%12||12,hh:s(u%12||12),H:u,HH:s(u),M:h,MM:s(h),s:c,ss:s(c),l:s(f,3),L:s(f>99?Math.round(f/10):f),t:12>u?"a":"p",tt:12>u?"am":"pm",T:12>u?"A":"P",TT:12>u?"AM":"PM",Z:m?"UTC":(String(o).match(e)||[""]).pop().replace(a,""),o:(_>0?"-":"+")+s(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][l%10>3?0:(l%100-l%10!=10)*l%10],W:g};return n.replace(t,function(t){return t in D?D[t]:t.slice(1,t.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(t,e){return dateFormat(this,t,e)}}