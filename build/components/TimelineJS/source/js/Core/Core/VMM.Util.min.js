"undefined"!=typeof VMM&&"undefined"==typeof VMM.Util&&(VMM.Util={init:function(){return this},removeRange:function(t,r,e){var n=t.slice((e||r)+1||t.length);return t.length=0>r?t.length+r:r,t.push.apply(t,n)},correctProtocol:function(t){var r=window.parent.location.protocol.toString(),e="",n=t.split("://",2);return e=r.match("http")?r:"https",e+"://"+n[1]},mergeConfig:function(t,r){var e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t},getObjectAttributeByIndex:function(t,r){if("undefined"!=typeof t){var e=0;for(var n in t){if(r===e)return t[n];e++}return""}return""},ordinal:function(t){return["th","st","nd","rd"][!(t%10>3||1==Math.floor(t%100/10))*(t%10)]},randomBetween:function(t,r){return Math.floor(Math.random()*(r-t+1)+t)},average:function(t){for(var r,e={mean:0,variance:0,deviation:0},n=t.length,a=0,i=n;i--;a+=t[i]);for(r=e.mean=a/n,i=n,a=0;i--;a+=Math.pow(t[i]-r,2));return e.deviation=Math.sqrt(e.variance=a/n),e},customSort:function(t,r){var e=t,n=r;return e==n?0:e>n?1:-1},deDupeArray:function(t){var r,e=t.length,n=[],a={};for(r=0;e>r;r++)a[t[r]]=0;for(r in a)n.push(r);return n},wordCount:function(t){var r=t+" ",e=/^[^A-Za-z0-9\'\-]+/gi,n=r.replace(e,""),a=/[^A-Za-z0-9\'\-]+/gi,i=n.replace(a," "),o=i.split(" "),l=o.length-1;return r.length<2&&(l=0),l},ratio:{fit:function(t,r,e,n){var a={width:0,height:0};return a.width=t,a.height=Math.round(t/e*n),a.height>r&&(a.height=r,a.width=Math.round(r/n*e),a.width>t&&trace("FIT: DIDN'T FIT!!! ")),a},r16_9:function(t,r){return null!==t&&""!==t?Math.round(r/16*9):null!==r&&""!==r?Math.round(t/9*16):void 0},r4_3:function(t,r){return null!==t&&""!==t?Math.round(r/4*3):null!==r&&""!==r?Math.round(t/3*4):void 0}},doubledigit:function(t){return(10>t?"0":"")+t},truncateWords:function(t,r,e){r||(r=30),e||(e=r);var n=/^[^A-Za-z0-9\'\-]+/gi,a=t.replace(n,""),i=a.split(" "),o=[];r=Math.min(i.length,r),e=Math.min(i.length,e);for(var l=0;r>l;l++)o.push(i[l]);for(;e>l;l++){var c=i[l];if(o.push(c),"."==c.charAt(c.length-1))break}return o.join(" ")},linkify:function(t){var r=/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,e=/(^|[^\/])(www\.[\S]+(\b|$))/gim,n=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim;return t.replace(r,"<a target='_blank' href='$&' onclick='void(0)'>$&</a>").replace(e,"$1<a target='_blank' onclick='void(0)' href='http://$2'>$2</a>").replace(n,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>")},linkify_with_twitter:function(t){var r=/(\()((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\))|(\[)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\])|(\{)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\})|(<|&(?:lt|#60|#x3c);)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(>|&(?:gt|#62|#x3e);)|((?:^|[^=\s'"\]])\s*['"]?|[^=\s]\s+)(\b(?:ht|f)tps?:\/\/[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]+(?:(?!&(?:gt|#0*62|#x0*3e);|&(?:amp|apos|quot|#0*3[49]|#x0*2[27]);[.!&',:?;]?(?:[^a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]|$))&[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]*)*[a-z0-9\-_~$()*+=\/#[\]@%])/gim,e='$1$4$7$10$13<a href="$2$5$8$11$14" target="_blank" class="hyphenate">$2$5$8$11$14</a>$3$6$9$12',n=/(^|[^\/])(www\.[\S]+(\b|$))/gim,a=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim,i=/\B@([\w-]+)/gm;return t.replace(r,e).replace(n,"$1<a target='_blank' class='hyphenate' onclick='void(0)' href='http://$2'>$2</a>").replace(a,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>").replace(i,"<a href='http://twitter.com/$1' target='_blank' onclick='void(0)'>@$1</a>")},linkify_wikipedia:function(t){var r=/<i[^>]*>(.*?)<\/i>/gim;return t.replace(r,"<a target='_blank' href='http://en.wikipedia.org/wiki/$&' onclick='void(0)'>$&</a>").replace(/<i\b[^>]*>/gim,"").replace(/<\/i>/gim,"").replace(/<b\b[^>]*>/gim,"").replace(/<\/b>/gim,"")},unlinkify:function(t){return t?(t=t.replace(/<a\b[^>]*>/i,""),t=t.replace(/<\/a>/i,"")):t},untagify:function(t){return t?t=t.replace(/<\/?\s*\w.*?>/g,""):t},nl2br:function(t){return t.replace(/(\r\n|[\r\n]|\\n|\\r)/g,"<br/>")},unique_ID:function(t){var r=function(t){return Math.floor(Math.random()*t)},e=function(){var t="abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ";return t.substr(r(62),1)},n=function(t){for(var r="",n=0;t>n;n++)r+=e();return r};return n(t)},isEven:function(t){return t%2===0?!0:!1},getUrlVars:function(t){var r=t.toString();r.match("&#038;")?r=r.replace("&#038;","&"):r.match("&#38;")?r=r.replace("&#38;","&"):r.match("&amp;")&&(r=r.replace("&amp;","&"));for(var e,n=[],a=r.slice(r.indexOf("?")+1).split("&"),i=0;i<a.length;i++)e=a[i].split("="),n.push(e[0]),n[e[0]]=e[1];return n},toHTML:function(t){return t=this.nl2br(t),t=this.linkify(t),t.replace(/\s\s/g,"&nbsp;&nbsp;")},toCamelCase:function(t,r){r!==!1&&(r=!0);for(var e=(r?t.toLowerCase():t).split(" "),n=0;n<e.length;n++)e[n]=e[n].substr(0,1).toUpperCase()+e[n].substr(1);return e.join(" ")},properQuotes:function(t){return t.replace(/\"([^\"]*)\"/gi,"&#8220;$1&#8221;")},niceNumber:function(t){t+="",x=t.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var r=/(\d+)(\d{3})/;r.test(x1);)x1=x1.replace(r,"$1,$2");return x1+x2},toTitleCase:function(t){if("Explorer"==VMM.Browser.browser&&parseInt(VMM.Browser.version,10)>=7)return t.replace("_","%20");var r={__smallWords:["a","an","and","as","at","but","by","en","for","if","in","of","on","or","the","to","v[.]?","via","vs[.]?"],init:function(){this.__smallRE=this.__smallWords.join("|"),this.__lowerCaseWordsRE=new RegExp("\\b("+this.__smallRE+")\\b","gi"),this.__firstWordRE=new RegExp("^([^a-zA-Z0-9 \\r\\n\\t]*)("+this.__smallRE+")\\b","gi"),this.__lastWordRE=new RegExp("\\b("+this.__smallRE+")([^a-zA-Z0-9 \\r\\n\\t]*)$","gi")},toTitleCase:function(t){for(var r="",e=t.split(/([:.;?!][ ]|(?:[ ]|^)["“])/),n=0;n<e.length;++n){var a=e[n];a=a.replace(/\b([a-zA-Z][a-z.'’]*)\b/g,this.__titleCaseDottedWordReplacer),a=a.replace(this.__lowerCaseWordsRE,this.__lowerReplacer),a=a.replace(this.__firstWordRE,this.__firstToUpperCase),a=a.replace(this.__lastWordRE,this.__firstToUpperCase),r+=a}return r=r.replace(/ V(s?)\. /g," v$1. "),r=r.replace(/(['’])S\b/g,"$1s"),r=r.replace(/\b(AT&T|Q&A)\b/gi,this.__upperReplacer)},__titleCaseDottedWordReplacer:function(t){return t.match(/[a-zA-Z][.][a-zA-Z]/)?t:r.__firstToUpperCase(t)},__lowerReplacer:function(t){return t.toLowerCase()},__upperReplacer:function(t){return t.toUpperCase()},__firstToUpperCase:function(t){var r=t.split(/(^[^a-zA-Z0-9]*[a-zA-Z0-9])(.*)$/);return r[1]&&(r[1]=r[1].toUpperCase()),r.join("")}};return r.init(),t=t.replace(/_/g," "),t=r.toTitleCase(t)}}.init());