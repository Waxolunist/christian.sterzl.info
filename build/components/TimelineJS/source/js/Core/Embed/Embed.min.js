function getEmbedScriptPath(e){for(var t=document.getElementsByTagName("script"),i="",a="",o=0;o<t.length;o++)t[o].src.match(e)&&(i=t[o].src);return""!=i&&(a="/"),i.split("?")[0].split("/").slice(0,-1).join("/")+a}function createStoryJS(e,t){function i(){LoadLib.js(_.js,a)}function a(){y.js=!0,"en"!=_.lang?LazyLoad.js(b.locale,o):y.language=!0,c()}function o(){y.language=!0,c()}function n(){y.css=!0,c()}function s(){y.font.css=!0,c()}function l(){y.font.js=!0,c()}function c(){y.checks>40||(y.checks++,y.js&&y.css&&y.font.css&&y.font.js&&y.language?y.finished||(y.finished=!0,g()):y.timeout=setTimeout("onloaded_check_again();",250))}function r(){var e="storyjs-embed";h=document.createElement("div"),m=document.getElementById(""!=_.embed_id?_.embed_id:"timeline-embed"),m.appendChild(h),h.setAttribute("id",_.id),_.width.toString().match("%")?m.style.width=_.width.split("%")[0]+"%":(_.width=_.width-2,m.style.width=_.width+"px"),_.height.toString().match("%")?(m.style.height=_.height,e+=" full-embed",m.style.height=_.height.split("%")[0]+"%"):_.width.toString().match("%")?(e+=" full-embed",_.height=_.height-16,m.style.height=_.height+"px"):(e+=" sized-embed",_.height=_.height-16,m.style.height=_.height+"px"),m.setAttribute("class",e),m.setAttribute("className",e),h.style.position="relative"}function g(){VMM.debug=_.debug,f=new VMM.Timeline(_.id),f.init(_),u&&VMM.bindEvent(global,onHeadline,"HEADLINE")}var f,h,m,d,u=!1,j="2.24",p="1.7.1",y={timeout:"",checks:0,finished:!1,js:!1,css:!1,jquery:!1,has_jquery:!1,language:!1,font:{css:!1,js:!1}},b={base:embed_path,css:embed_path+"css/",js:embed_path+"js/",locale:embed_path+"js/locale/",jquery:"//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",font:{google:!1,css:embed_path+"css/themes/font/",js:"//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"}},_={version:j,debug:!1,type:"timeline",id:"storyjs",embed_id:"timeline-embed",embed:!0,width:"100%",height:"100%",source:"https://docs.google.com/spreadsheet/pub?key=0Agl_Dv6iEbDadFYzRjJPUGktY0NkWXFUWkVIZDNGRHc&output=html",lang:"en",font:"default",css:b.css+"timeline.css?"+j,js:"",api_keys:{google:"",flickr:"",twitter:""},gmap_key:""},S=[{name:"Merriweather-NewsCycle",google:["News+Cycle:400,700:latin","Merriweather:400,700,900:latin"]},{name:"NewsCycle-Merriweather",google:["News+Cycle:400,700:latin","Merriweather:300,400,700:latin"]},{name:"PoiretOne-Molengo",google:["Poiret+One::latin","Molengo::latin"]},{name:"Arvo-PTSans",google:["Arvo:400,700,400italic:latin","PT+Sans:400,700,400italic:latin"]},{name:"PTSerif-PTSans",google:["PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"PT",google:["PT+Sans+Narrow:400,700:latin","PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"DroidSerif-DroidSans",google:["Droid+Sans:400,700:latin","Droid+Serif:400,700,400italic:latin"]},{name:"Lekton-Molengo",google:["Lekton:400,700,400italic:latin","Molengo::latin"]},{name:"NixieOne-Ledger",google:["Nixie+One::latin","Ledger::latin"]},{name:"AbrilFatface-Average",google:["Average::latin","Abril+Fatface::latin"]},{name:"PlayfairDisplay-Muli",google:["Playfair+Display:400,400italic:latin","Muli:300,400,300italic,400italic:latin"]},{name:"Rancho-Gudea",google:["Rancho::latin","Gudea:400,700,400italic:latin"]},{name:"Bevan-PotanoSans",google:["Bevan::latin","Pontano+Sans::latin"]},{name:"BreeSerif-OpenSans",google:["Bree+Serif::latin","Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800:latin"]},{name:"SansitaOne-Kameron",google:["Sansita+One::latin","Kameron:400,700:latin"]},{name:"Lora-Istok",google:["Lora:400,700,400italic,700italic:latin","Istok+Web:400,700,400italic,700italic:latin"]},{name:"Pacifico-Arimo",google:["Pacifico::latin","Arimo:400,700,400italic,700italic:latin"]}];if("object"==typeof e)for(d in e)Object.prototype.hasOwnProperty.call(e,d)&&(_[d]=e[d]);if("undefined"!=typeof t&&(_.source=t),"object"==typeof url_config&&(u=!0,_.source.match("docs.google.com")||_.source.match("json")||_.source.match("storify")||(_.source="https://docs.google.com/spreadsheet/pub?key="+_.source+"&output=html")),_.js.match("locale")&&(_.lang=_.js.split("locale/")[1].replace(".js",""),_.js=b.js+"timeline-min.js?"+j),_.js.match("/")||(_.css=b.css+_.type+".css?"+j,_.js=b.js+_.type,_.js+=_.debug?".js?"+j:"-min.js?"+j,_.id="storyjs-"+_.type),b.locale=_.lang.match("/")?_.lang:b.locale+_.lang+".js?"+j,r(),LoadLib.css(_.css,n),"default"==_.font)y.font.js=!0,y.font.css=!0;else{var w;_.font.match("/")?(w=_.font.split(".css")[0].split("/"),b.font.name=w[w.length-1],b.font.css=_.font):(b.font.name=_.font,b.font.css=b.font.css+_.font+".css?"+j),LoadLib.css(b.font.css,s);for(var P=0;P<S.length;P++)b.font.name==S[P].name&&(b.font.google=!0,WebFontConfig={google:{families:S[P].google}});b.font.google?LoadLib.js(b.font.js,l):y.font.js=!0}try{if(y.has_jquery=jQuery,y.has_jquery=!0,y.has_jquery){var v=jQuery.fn.jquery.split("."),L=p.split(".");for(y.jquery=!0,P=0;2>P;P++)parseFloat(v[P])<parseFloat(L[P])&&(y.jquery=!1)}}catch(k){y.jquery=!1}y.jquery?i():LoadLib.js(b.jquery,i),this.onloaded_check_again=function(){c()}}var WebFontConfig;if("undefined"==typeof embed_path)var _tmp_script_path=getEmbedScriptPath("storyjs-embed.js"),embed_path=_tmp_script_path.substr(0,_tmp_script_path.lastIndexOf("js/"));!function(){"object"==typeof url_config?createStoryJS(url_config):"object"==typeof timeline_config?createStoryJS(timeline_config):"object"==typeof storyjs_config?createStoryJS(storyjs_config):"object"==typeof config&&createStoryJS(config)}();